<!DOCTYPE html>
<html>
<head>

	<title>SOUND MAKING OBJECT</title>
	<link rel="stylesheet" type="text/css" href="/pcd-delhi-workshop/style/main.css">
	<link rel="stylesheet" type="text/css" href="/pcd-delhi-workshop/style/highlighter.css">
	<script type="text/javascript" src="/pcd-delhi-workshop/scripts/prefixfree.min.js"></script>
</head>
<body>

	<link rel="stylesheet" type="text/css" href="/pcd-delhi-workshop/style/topbar.css">
<div id="topbar">
	<div id="links">
		<a href="/pcd-delhi-workshop/">home</a>
		<span>|</span>
		<a href="/pcd-delhi-workshop/syllabus">syllabus</a>
	</div>
	<div id="bar">
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
			<span></span>
		
	</div>
</div>

	<h1>Sound making object</h1>

	<p>Make a self-contained sound-making object using the function object way of making classes. Keep it simple. Focus on making a clear and simple interface. No more than 3 public methods and attributes. Your class should be documented with <a href="/pcd-delhi-workshop/module/jsdocs">JSDoc-style</a> comments which clarify the methods and attributes and their parameters and types. Take a look at the class README and the <a href="./0_functionObjects/">function object</a> example in the week3 folder. Make your class in a seperate JS file and include a didactic example of how your class can be used.</p>

<p>Here is an unimplemented example of a class which makes cool music.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 *  @class This class adds cool music to your web page.
 *  	   Depends on Tone.js and jQuery. 
 * 
 *  @param {string}  [style="polka"]  The style of music. Either "rap", "muzak", or "polka". 
 *									  Defaults to "polka".
 */</span>
<span class="kd">var</span> <span class="nx">CoolMusic</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">style</span><span class="p">){</span>
	<span class="cm">/**
	 *  the style of music attribute
	 *  @type {string}
	 */</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">style</span> <span class="o">=</span> <span class="nx">style</span> <span class="o">||</span> <span class="s2">"polka"</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**
 *  The coolness of the music as a number between 0-11. 
 *  @param  {number}  coolness
 */</span>
<span class="nx">CoolMusic</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setCoolness</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">coolness</span><span class="p">){</span>
	<span class="c1">//some code here</span>
<span class="p">}</span>

<span class="cm">/**
 *  start the music
 */</span>
<span class="nx">CoolMusic</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="c1">//some code here</span>
<span class="p">}</span>

<span class="cm">/**
 *  stop the music. 
 */</span>
<span class="nx">CoolMusic</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="c1">//some code here</span>
<span class="p">}</span>

<span class="cm">/**
 *  An internal method which updates the music.
 * 	@private
 */</span>
<span class="nx">CoolMusic</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_update</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="c1">//some code here</span>
<span class="p">}</span>
</code></pre></div></div>


	<link rel="stylesheet" type="text/css" href="/pcd-delhi-workshop/style/footer.css">
<div id='footnotes'>

</div>
<div id='footer'>
	Â©2017-2018 Yotam Mann <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA</a>
</div>

	
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90915308-1', 'auto');
  ga('send', 'pageview');

</script>

	<script type="text/javascript">

	// jsfiddle creates too many AudioContexts, 
	// need to insure that the offscreen fiddles are closed
	// to remove the unused AudioContexts

	function isOffScreen (el) {
		var rect = el.getBoundingClientRect();
		return ((rect.left + rect.width) < 0 
			|| (rect.top + rect.height) < 0
			|| (rect.left > window.innerWidth || rect.top > window.innerHeight))
	}

	function reloadIframe(iframe){
		var url = iframe.src
		iframe.src = 'about:blank'
		setTimeout(function() {
			iframe.src = url
		}, 10)
	}

	//test the active elements to see if they are out of the viewport
	setInterval(function(){
		document.querySelectorAll('.active-iframe').forEach(function(el){
			if (isOffScreen(el)){
				reloadIframe(el)
				el.classList.remove('active-iframe')
			}
		})
	}, 1000)

	window.addEventListener('message', function(e){
		// if the results tab was selected
		var resultsTab = e.data[0] === 'resultsFrame'
		var slug = e.data[1].slug
		// get the iframe element using the slug
		document.querySelectorAll('iframe').forEach(function(iframe){
			if (iframe.src.indexOf(slug) !== -1){
				// mark the iframe as active if it's on the results tab
				if (resultsTab){
					iframe.classList.add('active-iframe')
				}
			}
		})
	})
</script>	
</body>
</html>